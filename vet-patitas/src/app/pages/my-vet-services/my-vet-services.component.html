<br>
<br>
<br>
<br>
<br>
<br>
<mat-drawer-container class="example-container" style="width: 100%; height: 600px">
    <mat-drawer #drawer class="example-sidenav" mode="side" style="width: 300px; height: 100%;" [position]="'end'">
        <div style="display : flex; flex-direction: column;">
            <form [formGroup]="productForm">



                <!--TÍTULO-->
                <mat-form-field>
                    <mat-label>Título</mat-label>
                    <input matInput formControlName="title" type="text">
                </mat-form-field>
                <div *ngIf="productForm.get('title').invalid && (productForm.get('title').touched || productForm.get('title').dirty)"
                    class="alert alert-danger">

                    <div *ngIf="productForm.get('title').errors.required">
                        Se requiere un título
                    </div>

                    <div *ngIf="productForm.get('title').errors.minlength">
                        Título demasiado corto
                    </div>

                    <div *ngIf="productForm.get('title').errors.maxlength">
                        Título demasiado largo
                    </div>
                </div>

                <!--DESCRIPCIÓN-->
                <mat-form-field>
                    <mat-label>Descripción</mat-label>
                    <input matInput formControlName="description" type="text">
                </mat-form-field>

                <div *ngIf="productForm.get('description').invalid && (productForm.get('description').touched || productForm.get('description').dirty)"
                    class="alert alert-danger">

                    <div *ngIf="productForm.get('description').errors.required">
                        Se requiere una descripción
                    </div>

                    <div *ngIf="productForm.get('description').errors.minlength">
                        Descripción demasiado corta
                    </div>

                    <div *ngIf="productForm.get('description').errors.maxlength">
                        Descripción demasiado larga
                    </div>

                </div>

                <!--URL DE UNA IMAGEN-->
                <mat-form-field>
                    <mat-label>ImageUrl</mat-label>
                    <input matInput formControlName="imageUrl" type="text">
                </mat-form-field>
                <div *ngIf="productForm.get('imageUrl').invalid && (productForm.get('imageUrl').touched || productForm.get('imageUrl').dirty)"
                    class="alert alert-danger">

                    <div *ngIf="productForm.get('imageUrl').errors.required">
                        Se requiere el enlace a una imagen
                    </div>

                    <div *ngIf="productForm.get('imageUrl').errors.minlength">
                        Este enlace no parece válido
                    </div>
                </div>

                <!--FECHA-->
                <mat-form-field appearance="fill">
                    <mat-label>Fecha de tu cita</mat-label>
                    <input matInput formControlName="date" [matDatepicker]="seStDt" [min]="minDate" [max]="maxDate"
                        disabled>
                    <mat-datepicker-toggle matSuffix [for]="seStDt"></mat-datepicker-toggle>
                    <mat-datepicker #seStDt disabled="false"></mat-datepicker>


                </mat-form-field>
  <!------------------------------VALIDACIÓN DE FECHA------------------------->
                <div *ngIf="productForm.get('date').invalid && (productForm.get('date').touched || productForm.get('date').dirty)"
                    class="alert alert-danger">

                    <div *ngIf="productForm.get('date').errors.required">
                        Se requiere una fecha para reservar
                    </div>
                </div>
   <!------------------------------VALIDACIÓN DE FECHA------------------------->

                <!--HORA-->
                <mat-form-field>
                    <mat-label>Hora</mat-label>
                    <input [ngxTimepicker]="picker" matInput formControlName="hour" readonly>
                    <ngx-material-timepicker #picker></ngx-material-timepicker>
                </mat-form-field>
                <div *ngIf="productForm.get('hour').invalid && (productForm.get('hour').touched || productForm.get('hour').dirty)"
                    class="alert alert-danger">

                    <div *ngIf="productForm.get('hour').errors.required">
                        Se requiere una hora para reservar
                    </div>
                </div>
                <!--STOCK-->
                <mat-form-field>
                    <mat-label>Stock</mat-label>
                    <input matInput formControlName="stock" type="text">
                </mat-form-field>
                <div *ngIf="productForm.get('stock').invalid && (productForm.get('stock').touched || productForm.get('stock').dirty)"
                class="alert alert-danger">

                <div *ngIf="productForm.get('stock').errors.required">
                    Se requiere una cantidad de stock
                </div>

                <div *ngIf="productForm.get('stock').errors.maxlength">
                    Esta cantidad es demasiado grande
                </div>
                
                <div *ngIf="productForm.get('stock').errors.pattern">
                    El Stock es un número
                </div>
            </div>
            </form>

        </div>

        <button mat-button style="background-color: #66e0ad; margin-right: 5px;" (click)="onEnviar2();">CREATE</button>
        <button mat-button style="background-color: #66e0ad;" (click)="onUpdateProduct()">UPDATE</button>

    </mat-drawer>

    <div class="example-sidenav-content" style="margin-top: 20px; margin-left: 10px;">
        <button type="button" style="background: #2db844; padding-top: 15px; padding-bottom: 15px;" mat-button
            (click)="drawer.toggle()">
            <i class="fas fa-folder-plus fa-4x"></i>Añadir nuevo servicio
        </button>
    </div>


    <div class="row">
        <div *ngFor="let product of products" class="row col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3"
            style="padding: 50px; display: flex; justify-content: center;">
            <mat-card class="example-card text-black bg-primary123 mb-3">
                <mat-card-header>
                    <mat-card-title>{{product.title}}</mat-card-title>
                    <mat-card-subtitle>{{product.price}} Bs.</mat-card-subtitle>
                </mat-card-header>
                <img mat-card-image [src]="product.imageUrl" alt="Photo of a Shiba Inu">
                <mat-card-content>
                    <p>
                        {{product.description}}
                    </p>
                </mat-card-content>
                <mat-card-actions>
                    <button mat-button style="background-color: #DED5D3;"
                        (click)="onEdit(product); drawer.toggle()">EDITAR</button>
                    <button mat-button style="background-color: #DED5D3;"
                        (click)="onDelete(product.id)">ELIMINAR</button>
                </mat-card-actions>
            </mat-card>
        </div>
    </div>
</mat-drawer-container>





<router-outlet></router-outlet>